部署记录


0 服务器
    lighttpd
    mysql 5
    redis 2.4
    php 5
    monit

    php需要安装 php-redis

//linux
apt-get update
apt-get install build-essential
apt-get install redis
apt-get install redis-server
apt-get install mysql-server
apt-get install libxml2-dev
apt-get install libssl-dev
apt-get install libcurl4-openssl-dev
apt-get install libjpeg62-dev
apt-get install libpng12-dev
apt-get install libmysqlclient-dev
apt-get install libpcre3-dev
apt-get install libbz2-dev
apt-get install libcurl4-gnutls-dev libexpat1-dev gettext libz-dev libssl-dev
apt-get install git-core gitosis
apt-get install autoconf
apt-get install libc-client2007e-dev
wget http://us.php.net/distributions/php-5.3.8.tar.bz2
#'./configure' '--with-mysql' '--enable-mbstring' '--with-curl' '--with-pdo-mysql' '--with-openssl' '--with-gd' '--with-jpeg-dir=/usr/lib' '--disable-fileinfo' '--with-iconv-dir=/usr/local/lib'
'./configure' '--with-mysql' '--enable-mbstring' '--with-curl' '--with-pdo-mysql' '--with-openssl' '--with-gd' '--with-jpeg-dir=/usr/lib' '--disable-fileinfo' '--with-iconv-dir=/usr/local/lib' --with-imap  --with-imap-ssl --with-kerberos
wget http://download.lighttpd.net/lighttpd/releases-1.4.x/lighttpd-1.4.29.tar.gz

git clone https://github.com/nicolasff/phpredis.git

CREATE DATABASE exfe CHARACTER SET utf8 COLLATE utf8_general_ci;
GRANT ALL PRIVILEGES ON exfe.* TO 'exfe'@'localhost' IDENTIFIED BY 'di5#vuaavF' WITH GRANT OPTION;
FLUSH PRIVILEGES;

//freebsd
/usr/ports/textproc/php5-simplexml
/usr/ports/security/php5-hash
/usr/ports/textproc/php5-ctype
/usr/ports/databases/php5-redis
/usr/ports/mail/php5-imap

1 脚本 

    发送邮件等的任务脚本。位于script目录
    注意，对于需要组合多个消息发送的任务需要使用 MULTI=true 参数

2 配置文件
config.php.sample
mailclient/mailconf.php.sample


