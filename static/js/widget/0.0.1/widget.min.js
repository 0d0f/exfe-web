define("widget",[],function(a,b,c){function i(){return"widget-"+h++}function j(a){return typeof a=="function"}function k(a,b){var c=a[b];if(a&&c)return j(c)?a[b]():c}function l(a,b){var c;for(c in b)c!=="options"&&(a[c]=b[c])}function m(a,b){function c(c){return a.call(b,c)}return a?c:undefined}var d=a("jquery"),e=a("base"),f=e.extend({options:{template:"<div />",events:null},initialize:function(a){this.cid=i(),this.initOptions(a),this.parseElement(),this.delegateEvents(),this.init()},initOptions:function(a){this.setOptions(a),l(this,a)},parseElement:function(){var a=this.element,b=this.options.template;a?this.element=a instanceof d?a:d(a):b&&(this.element=d(b));if(!this.element)throw"element is invalid"},init:function(){},render:function(){return this},delegateEvents:function(a){a||(a=k(this.options,"events"));if(!a)return;this.undelegateEvents();var b,c,d,e,f;for(b in a){c=a[b]||this[b];if(!c)throw'Method "'+a[b]+'" does not exist';d=b.match(g),e=d[1],f=d[2]||null,e+=".delegateEvents"+this.cid,this.element.on(e,f,m(c,this))}},undelegateEvents:function(){this.element.off(".delegateEvents"+this.cid)},$:function(a){return this.element.find(a)},destory:function(){this.undelegateEvents(),f.superclass.destory.call(this)}}),g=/^(\S+)\s*(.*)$/,h=1;return f});