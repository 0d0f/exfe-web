define("widget",[],function(e,t,n){function a(){return"widget-"+u++}function f(e){return typeof e=="function"}function l(e,t){var n=e[t];if(e&&n)return f(n)?e[t]():n}function c(e,t){var n;for(n in t)n!=="options"&&(e[n]=t[n])}function h(e,t){if(!e)return;return function(r){return e.call(t,r)}}var r=e("jquery"),i=e("base"),s=i.extend({options:{template:"<div />",events:null},initialize:function(e){this.cid=a(),this.initOptions(e),this.parseElement(),this.delegateEvents(),this.init()},initOptions:function(e){this.setOptions(e),c(this,e)},parseElement:function(){var e=this.element,t=this.options.template;e?this.element=e instanceof r?e:r(e):t&&(this.element=r(t));if(!this.element)throw"element is invalid";this.element.attr("data-widget-id",this.cid)},init:function(){},render:function(){return this},delegateEvents:function(e){e||(e=l(this.options,"events"));if(!e)return;this.undelegateEvents();var t,n,r,i,s;for(t in e){n=e[t]||this[t];if(!n)throw'Method "'+e[t]+'" does not exist';r=t.match(o),i=r[1],s=r[2]||null,i+=".delegateEvents"+this.cid,this.element.on(i,s,h(n,this))}},undelegateEvents:function(){this.element.off(".delegateEvents"+this.cid)},$:function(e){return this.element.find(e)},_destory:function(){this.undelegateEvents(),s.superclass.destory.call(this)}}),o=/^(\S+)\s*(.*)$/,u=0;return s});