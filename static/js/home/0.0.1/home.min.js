define(function(e){var t=e("jquery");t(function(){function R(){var t=e.height();if(r>t)c=a,v=p*d,E=y,N=S,L=k;else if(r<=t&&i>t){var n=(t-r)/s;c=a+l*n,v=p*d+p*(1-d)*n,E=y+w*n,N=S+T*n,L=C*d+C*(1-d)*n}else c=f,v=p,E=b,N=x,L=C;u.css({paddingTop:c}),h.width(v).height(v),g.css({paddingTop:E,paddingBottom:N}),m=h.position();var o=Math.sin(45*Math.PI/180)*L,A=Math.sin(45*Math.PI/180)*L;M=m.top-(o-v/2)-25.5,_=m.left-(A-v/2)-25.5,O.eq(0).css({left:_,top:M}),O.eq(2).css({right:_,bottom:M});var H=Math.sin(30*Math.PI/180)*L,B=Math.cos(30*Math.PI/180)*L;D=m.top+(H+v/2)-25.5,P=m.left-(B-v/2)-25.5,O.eq(3).css({left:P,top:D}),O.eq(1).css({right:P,bottom:D}),h.addClass("exfe-init")}function U(){H=setInterval(function(){j===I&&(j=0),(F=j-1)<0&&(F=I-1),q&&j===1&&(q=!1),z(F),W(j),j++},6765)}function z(e){B.not(B.get(e)).removeClass("tanimate1 tanimate"),B.eq(e).addClass("tanimate1").removeClass("tanimate");if(e===0||q){e===0&&h.removeClass("exfe-scale2");return}O.eq(e-1).removeClass("fadeIn").addClass("fadeOut")}function W(e){B.eq(e).removeClass("hide tanimate1").addClass("tanimate");if(e===0){e===0&&!q&&h.addClass("exfe-scale2");return}O.eq(e-1).removeClass("fadeOut").addClass("fadeIn")}var e=t(window),n=t(document),r=680,i=980,s=i-r,o=t(".x-home"),u=o.find(".page-header"),a=40,f=140,l=f-a,c,h=t("#js-exfe-toy"),p=h.width(),d=.8,v,m,g=o.find(".page-footer"),y=64,b=108,w=b-y,E,S=60,x=132,T=x-S,N,C=288,k=C*d,L,A=o.find("div.circles"),O=A.find("div.circle"),M,_,D,P,H,B=u.find("div.title"),j=0,F=0,I=B.length,q=!0;e.data("home",!0),R(),e.resize(function(){R()}),setTimeout(function(){h.addClass("exfe-scaleOn"),setTimeout(function(){B.addClass("opacity0").removeClass("hide"),W(j),u.animate({opacity:1},250),A.animate({opacity:1},250),g.animate({opacity:1},250,function(){e.data("home")&&(clearInterval(H),H=null),U()})},500)},501),n.off("hover.home","#js-exfe-toy, div.circle").on("hover.home","#js-exfe-toy, div.circle",function(e){var n=t(this),r=e.type==="mouseenter",i=n.index("div.circle");B.removeClass("tanimate1 tanimate"),q=!1,i===-1?i=0:i++,clearInterval(H),H=null,r?(z(F+1),j=i,W(i)):(z(j=i),H||U())}),n.off("click.home").on("click.home",function(e){var n=t(e.target);!n.hasClass("gather-wrapper")&&!n.parent().hasClass("gather-wrapper")&&!t(".modal-id").length&&t.contains(t(".modal-id"),n)&&t(".x-signin").trigger("click.dialog.data-api")})})});