define(function(e){var t=e("jquery");t(function(){function z(){var t=e.height();if(r>t)c=a,m=d*v,S=b,C=x,A=L;else if(r<=t&&i>t){var n=(t-r)/s;c=a+l*n,m=d*v+d*(1-v)*n,S=b+E*n,C=x+N*n,A=k*v+k*(1-v)*n}else c=f,m=d,S=w,C=T,A=k;u.css({paddingTop:c}),h.width(m).height(m),g=h.position(),p.width(m).height(m).css(g),y.css({paddingTop:S,paddingBottom:C});var o=Math.sin(45*Math.PI/180)*A,O=Math.sin(45*Math.PI/180)*A;_=g.top-(o-m/2)-B,D=g.left-(O-m/2)-B,M.eq(0).css({left:D,top:_}),M.eq(2).css({right:D,bottom:_});var j=Math.sin(30*Math.PI/180)*A,F=Math.cos(30*Math.PI/180)*A;P=g.top+(j+m/2)-B,H=g.left-(F-m/2)-B,M.eq(3).css({left:H,top:P}),M.eq(1).css({right:H,bottom:P})}function W(){j=setInterval(function(){q++,q===I&&(q=0),(R=q-1)<0&&(R=I-1),V(R),J(q)},6765)}function X(){clearInterval(j),j=null}function V(e){F.eq(e).removeClass("t-fadeIn").addClass("t-fadeOut");if(e===0){p.addClass("hide").removeClass("exfe-scaleOut");return}M.eq(e-1).removeClass("fadeIn").addClass("fadeOut")}function J(e){F.eq(e).removeClass("hide t-fadeOut").addClass("t-fadeIn");if(e===0){p.removeClass("hide"),setTimeout(function(){p.addClass("exfe-scaleOut")},0);return}M.eq(e-1).removeClass("fadeOut").addClass("fadeIn")}var e=t(window),n=t(document),r=680,i=980,s=i-r,o=t(".x-home"),u=o.find(".page-header"),a=40,f=140,l=f-a,c,h=o.find("#js-exfe-toy"),p=o.find(".exfe-toy-shadow"),d=h.width(),v=.8,m,g,y=o.find(".page-footer"),b=64,w=108,E=w-b,S,x=60,T=132,N=T-x,C,k=288,L=k*v,A,O=o.find("div.circles"),M=O.find("div.circle"),_,D,P,H,B=M.eq(0).width()/2,j=null,F=u.find("div.title"),I=F.length,q=0,R=0,U=!1;e.data("home",!0),z(),e.resize(function(){z()}),h.addClass("exfe-init").delay(500,"starter").delay(500,"show-title").delay(233,"show-circles").delay(233,"show-start").delay(233,"ender").queue("starter",function(e){h.addClass("exfe-scaleOn"),h.dequeue("show-title")}).queue("show-title",function(e){u.animate({opacity:1},1e3),h.dequeue("show-circles")}).queue("show-circles",function(e){O.animate({opacity:1},1e3),h.dequeue("show-start")}).queue("show-start",function(e){y.animate({opacity:1},1e3),h.dequeue("ender")}).queue("ender",function(){j&&X(j),W(),F.eq(0).addClass("t-fadeIn").nextAll().addClass("t-fadeOut").removeClass("hide"),U=!0}).dequeue("starter"),n.off("hover.home","#js-exfe-toy, div.circle").on("hover.home","#js-exfe-toy, div.circle",function(e){if(!U)return;X();var n=t(this),r=e.type==="mouseenter",i=n.index("div.circle");i===-1?i=0:i++;if(r){if(i===q)return;V(q),q=i,J(q)}else j||W()}),n.off("click.home").on("click.home",function(e){var n=t(e.target);!n.hasClass("gather-wrapper")&&!n.parent().hasClass("gather-wrapper")&&!n.hasClass("modal")&&!t(".modal").size()&&t(".sign-in").trigger("click.dialog.data-api")})})});