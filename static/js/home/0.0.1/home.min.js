define(function(e){var t=e("jquery");t(function(){function U(){var t=e.height();if(r>t)c=a,m=d*v,S=b,C=x,A=L;else if(r<=t&&i>t){var n=(t-r)/s;c=a+l*n,m=d*v+d*(1-v)*n,S=b+E*n,C=x+N*n,A=k*v+k*(1-v)*n}else c=f,m=d,S=w,C=T,A=k;u.css({paddingTop:c}),h.width(m).height(m),g=h.position(),p.width(m).height(m).css(g),y.css({paddingTop:S,paddingBottom:C});var o=Math.sin(45*Math.PI/180)*A,O=Math.sin(45*Math.PI/180)*A;_=g.top-(o-m/2)-25.5,D=g.left-(O-m/2)-25.5,M.eq(0).css({left:D,top:_}),M.eq(2).css({right:D,bottom:_});var B=Math.sin(30*Math.PI/180)*A,j=Math.cos(30*Math.PI/180)*A;P=g.top+(B+m/2)-25.5,H=g.left-(j-m/2)-25.5,M.eq(3).css({left:H,top:P}),M.eq(1).css({right:H,bottom:P})}function z(){B=setInterval(function(){I++,I===F&&(I=0),(q=I-1)<0&&(q=F-1),W(q),X(I)},6765)}function W(e){j.eq(e).removeClass("t-fadeIn").addClass("t-fadeOut");if(e===0){p.removeClass("exfe-scaleOut");return}M.eq(e-1).removeClass("fadeIn").addClass("fadeOut")}function X(e){j.eq(e).removeClass("hide t-fadeOut").addClass("t-fadeIn");if(e===0){p.addClass("exfe-scaleOut");return}M.eq(e-1).removeClass("fadeOut").addClass("fadeIn")}var e=t(window),n=t(document),r=680,i=980,s=i-r,o=t(".x-home"),u=o.find(".page-header"),a=40,f=140,l=f-a,c,h=o.find("#js-exfe-toy"),p=o.find(".exfe-toy-shadow"),d=h.width(),v=.8,m,g,y=o.find(".page-footer"),b=64,w=108,E=w-b,S,x=60,T=132,N=T-x,C,k=288,L=k*v,A,O=o.find("div.circles"),M=O.find("div.circle"),_,D,P,H,B,j=u.find("div.title"),F=j.length,I=0,q=0,R=!1;e.data("home",!0),U(),e.resize(function(){U()}),h.addClass("exfe-init").delay(500,"starter").delay(500,"show-title").delay(233,"show-circles").delay(233,"show-start").delay(233,"ender").queue("starter",function(e){h.addClass("exfe-scaleOn"),h.dequeue("show-title")}).queue("show-title",function(e){p.removeClass("hide"),u.animate({opacity:1},233),h.dequeue("show-circles")}).queue("show-circles",function(e){O.animate({opacity:1},233),h.dequeue("show-start")}).queue("show-start",function(e){y.animate({opacity:1},233),h.dequeue("ender")}).queue("ender",function(){z(),j.eq(0).addClass("t-fadeIn").nextAll().addClass("t-fadeOut").removeClass("hide"),R=!0}).dequeue("starter"),n.off("hover.home","#js-exfe-toy, div.circle").on("hover.home","#js-exfe-toy, div.circle",function(e){if(!R)return;clearInterval(B),B=null;var n=t(this),r=e.type==="mouseenter",i=n.index("div.circle");i===-1?i=0:i++;if(r){if(i===I)return;W(I),I=i,X(I)}else B||z()}),n.off("click.home").on("click.home",function(e){var n=t(e.target);!n.hasClass("gather-wrapper")&&!n.parent().hasClass("gather-wrapper")&&!t(".modal-id").length&&t.contains(t(".modal-id"),n)&&t(".x-signin").trigger("click.dialog.data-api")})})});