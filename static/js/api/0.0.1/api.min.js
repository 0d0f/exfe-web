define("api",[],function(e,t,n){function u(e,t){return function(){var r=f(arguments),i=r[0];return i&&i.meta.code===200?(r[0]=i.response,e&&e.apply(this,r)):t&&t.apply(this,r),this}}function f(e){return a.call(e,0)}function l(e,t){var n;for(n in t)e[n]=t[n];return e}function h(e,t,n){var i={},s;return l(i,c),l(i,e),s=r.ajax(i).done(t).fail(n),s}var r=e("jquery"),i=e("config"),s={base_url:i.api_url,signin:"/Users/signin",getRegistrationFlag:"/Users/getRegistrationFlag",getUser:"/Users/:user_id",signout:"",updateUser:"/Users/update",setPassword:"/Users/:user_id/setPassword",crosses:"/Users/:user_id/crosses",crosslist:"/Users/:user_id/crosslist",addIdentity:"/Users/addIdentity",deleteIdentity:"/Users/deleteIdentity",setDefaultIdentity:"/Users/setDefaultIdentity",getIdentityById:"/Identities/:identity_id",complete:"/Identities/complete",getIdentity:"/Identities/get",updateIdentity:"/Identities/:identity_id/update",getCross:"/Crosses/:cross_id",gather:"/Crosses/gather",editCross:"/Crosses/:cross_id/edit",rsvp:"/Exfee/:exfee_id/rsvp",editExfee:"/Exfee/:exfee_id/edit",conversation:"/Conversation/:exfee_id",addConversation:"/Conversation/:exfee_id/add",verifyIdentity:"/Users/verifyIdentity",verifyUserIdentity:"/Users/verifyUserIdentity",forgotPassword:"/Users/forgotPassword",avatarUpdate:"/Avatar/update",getCrossByInvitationToken:"/Crosses/getCrossByInvitationToken",resolveToken:"/Users/resolveToken"},o={_token:null,setToken:function(e){this._token=e},getToken:function(){return this._token},request:function(e,t,n,i){var a=s[e],f,l=t.params,c=t.resources;if(!a)return;l||(l={}),l&&(o._token&&!l.token&&(l.token=o._token),l=r.param(l),a+=l?"?"+l:"");if(c)for(f in c)a=a.replace(":"+f,encodeURIComponent(c[f]));return t.url=s.base_url+a,delete t.params,delete t.resources,h(t,u(n,i),i)}},a=Array.prototype.slice,c={type:"GET",dataType:"JSON",xhrFields:{withCredentials:!0}};return o});