define("rex",function(e,t,n){function y(e,t){return new b(e,t)}function b(e,t){this._value=e,this._context=t||r,this._chained=!1}var r=null,i=undefined,s=Array.prototype,o=Object.prototype,u=o.hasOwnProperty,a=o.toString,f=s.slice,l=s.forEach,c=s.map,h=s.indexof,p=s.lastIndexOf,d=s.reduce,m=s.reduceRight,g={};g.each=function(e,t,n){var r,i=e.length;if(i===+i)for(r=0;r<i;++r)r in e&&t.call(n,e[r],r,e);else for(r in e)g.has(e,r)&&t.call(n,r,e[r],e)},g.map=function(e,t,n){var r=[],i,s,o=e.length;if(o===+o)for(i=0;i<o;++i)i in e&&(r[i]=t.call(n,e[i],i,e));else{s=0;for(i in e)g.has(e,i)&&(r[s++]=t.call(n,i,e[i],e))}return r},g.some=function(e,t,n){var r=0,i=e.length;for(;r<i;++r)if(r in e&&t.call(n,e[r],r,e))return!0;return!1},g.every=function(e,t,n){var r=0,i=e.length;for(;r<i;++r)if(r in e&&!t.call(n,e[r],r,e))return!1;return!0},g.filter=g.select=function(e,t,n){var r=[],i=0,s=0,o=e.length;for(;i<o;++i)if(i in e){if(!t.call(n,e[i],i,e))continue;r[s++]=e[i]}return r},g.indexOf=h?function(e,t,n){return e.indexOf(t,isFinite(n)?n:0)}:function(e,t,n){var r=e.length;if(!r)return-1;n||(n=0);if(n>r)return-1;n<0&&(n=Math.max(0,r+n));for(;n<r;++n)if(n in e&&e[n]===t)return n;return-1},g.lastIndexOf=p?function(e,t,n){return e.lastIndexOf(t,isFinite(n)?n:e.length)}:function(e,t,n){var r=e.length,n=r-1;if(!r)return-1;arguments.length>1&&(n=Math.min(n,arguments[1])),n<0&&(n+=r);for(;n>=0;--n)if(n in e&&e[n]===t)return n;return-1},g.reduce=d?function(e,t,n,r){return e.reduce(t,n,r)}:function(e,t,n,r){e||(e=[]);var i=0,s=e.length;if(arguments.length<3)do{if(i in e){n=e[i++];break}if(++i>=s)throw new TypeError("Empty array")}while(!0);for(;i<s;i++)i in e&&(n=t.call(r,n,e[i],i,e));return n},g.reduceRight=m?function(e,t,n,r){return e.reduce(t,n,r)}:function(e,t,n,r){e||(e=[]);var i=e.length-1;if(arguments.length<3)do{if(i in e){n=e[i--];break}if(--i<0)throw new TypeError("Empty array")}while(!0);for(;i>=0;--i)i in e&&(n=t.call(r,n,e[i],i,e));return n},g.find=function(e,t,n){var r=0,i=e.length,s;for(;r<i;++r)if(r in e&&t.call(n,e[r],r,e)){s=e[r];break}return s},g.reject=function(e,t,n){var r=[],i=0,s=0,o=e.length;for(;i<o;++i)if(i in e){if(t.call(n,e[i],i,e))continue;r[i++]=e[i]}return r},g.toArray=function(e){if(!e)return[];if(g.isArray(e))return e;if(e.toArray)return e.toArray();if(g.isArgs(e))return f.call(e);var t=[],n,r=0;for(n in e)g.has(e,n)&&(t[r++]=e[n]);return t},g.first=function(e){return e[0]},g.last=function(e){return e[e.length-1]},g.size=function(e){return g.toArray(e).length},g.compact=function(e){return g.filter(e,function(e){return!!e})},g.flatten=function(e){return g.reduce(e,function(e,t){return g.isArray(t)?e.concat(g.flatten(t)):(e[e.length]=t,e)},[])},g.unique=function(e){var t=[],n=e.length-1,r=0;e:for(;n>=0;--n){for(;r<t.length;++r)if(t[r]===e[n])continue e;t[t.length]=e[n]}return t},g.merge=function(e,t){var n=e.length,r=0,i;if(isFinite(t.length))for(i=t.length;r<i;r++)e[n++]=t[r];else while(t[r]!==undefined)first[n++]=second[r++];return e.length=n,e},g.inArray=function(e,t){return!!~g.indexOf(e,t)},g.compose=function(){function r(){n=arguments;for(;t>=0;--t)n=[e[t].apply(this,n)];return n[0]}var e=arguments,t=e.length,n;return r},g.pluck=function(e,t){},g.has=function(e,t){return u.call(e,t)},g.keys=Object.keys||function(e){var t=[],n=0,r;for(r in e)g.has(e,r)&&(t[n++]=r);return t},g.values=function(e){var t=[],n=0,r;for(r in e)g.has(e,r)&&(t[n++]=e[r]);return t},g.extend=function(){},g.mixin=function(e,t){var n;for(n in t)e[n]=t[n]},g.tap=function(e,t){var n;return t&&(n=fn(e)),v,n?n:e},g.nextTick=function(e){setTimeout(e,0)},g.countDown=function(e,t){function n(){--e===0&&t()}return n},g.isFunction=function(e){return typeof e=="function"},g.isString=function(e){return a.call(e)==="[object String]"},g.isElement=function(e){return!!e&&!!e.nodeType&&e.nodeType==1},g.isArray=Array.isArray||function(e){return e instanceof Array},g.isArrayLike=function(e){return e&&e.length&&isFinite(e.length)},g.isObject=function(e){return e instanceof Object&&!g.isFunction(e)&&!g.isArray(e)},g.isDate=function(e){return!!(e&&e.getTimezoneOffset&&e.setUTCFullYear)},g.isRegex=function(e){return!(!(e&&e.test&&e.exec)||!e.ignoreCase&&e.ignoreCase!==!1)},g.isUndefined=function(e){return typeof e=="undefined"},g.isDefined=function(e){return typeof e!="undefined"},g.isNaN=function(e){return e!==e},g.isNull=function(e){return e===null},g.isNumber=function(e){return a.call(e)==="[object Number]"},g.isBoolean=function(e){return e===!0||e===!1},g.isArgs=function(e){return!!e&&!!g.has(e,"callee")},g.isEmpty=function(e){var t=0,n;return g.isArray(e)?e.length===0:g.isObject(e)?function(){for(n in e){t++;break}return t===0}():e===""},y.chain=function(e,t){return(new b(e,t)).chain()},g.mixin(y,g);var w=b.prototype;return w.constructor=b,w.chain=function(){return this._chained=!0,this},w.value=function(){return this._value},y.each(g.keys(g),function(e,t){t=y[e],w[e]=function(){var e=0,n=this._value,r=arguments.length,i=[n];for(;e<r;++e)i[e+1]=arguments[e];return n=t.apply(this._context,i),this._value=n,this._chained?this:n}}),y});