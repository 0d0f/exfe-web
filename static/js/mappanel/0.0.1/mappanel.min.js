define("mappanel",function(e,t,n){var r=e("panel"),i=/[\r\n]+/g,s=r.extend({options:{template:'<div class="panel map-panel" tabindex="-1" data-widget="panel" id="map-panel"><div class="panel-body"><div class="map-container"><div class="map-box" id="gmap"></div><div class="map-place"><div class="place-content hide"></div><div class="place-editor hide"><i class="pointer icon24-enter place-submit"></i><textarea name="place-text" id="place-text" placeholder="Enter place here."></textarea></div><div class="map-places hide"><ul class="unstyled places-list"></ul></div></div></div></div></div>',parentNode:null,srcNode:null,place:null},init:function(){var e=this.options;this.render(),this.place=e.place,delete e.place,this.showPlace(),this.handlers()},handlers:function(){var e=this,t=this.place;this.element.on("click.mappanel",".place-content",function(n){$(this).addClass("hide"),e.$(".place-editor").removeClass("hide").find("#place-text").text(t.title+(t.description?"\r"+t.description:"")).focusend()}),this.element.on("click.mappanel",".place-submit",function(e){$("body").click()})},showPlace:function(){var e=this.place,t=e.title,n=e.description,r=!t&&!n;this.$(r?".place-editor":".place-content").removeClass("hide"),r?this.$("#place-text").focusend():this.$(".place-content").html(t+(n?"</br>"+n.replace(i,"</br>"):""))},showBefore:function(){this.element.attr("editarea","date-panel")},showAfter:function(){var e=this.srcNode;if(e){var t=e.offset(),n=this.element.outerWidth();this.element.css({left:t.left-n-15,top:t.top})}},destory:function(){this.element.off(),this.element.remove(),this._destory()}}),o=function(e){e||(e="");var t=e.split(i),n=t.length?t.shift():"",r=t.join("\r");return{title:n,description:r}};return s});