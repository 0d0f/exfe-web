define("base",function(e){function s(e){return r.call(e)==="[object Function]"}function o(e){return e&&r.call(e)==="[object Object]"&&"isPrototypeOf"in e}function u(e,t){var n,r;for(n in t)r=t[n],i(r)?r=r.slice():o(r)&&(r=u(e[n]||{},r)),e[n]=r;return e}function s(e){return typeof e=="function"}function a(e){return e[2].toLowerCase()+e.substring(3)}var t=/^on[A-Z]/,n=Object.__proto__,r=Object.prototype.toString,i=Array.isArray;i||(i=function(e){return r.call(e)==="[object Array]"});var f=e("class"),l=e("emitter");return f.create(l,{setOptions:function(e){var n,r,i;this.hasOwnProperty("options")||(this.options={}),i=this.options,this.constructor.superclass.options&&u(i,this.constructor.superclass.options),this.constructor.prototype.options&&u(i,this.constructor.prototype.options),e&&e.options&&u(i,e.options);if(this.on)for(n in i)r=i[n],s(r)&&t.test(n)&&(this.on(a(n),r),delete i[n])},destory:function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e];n&&(this.__proto__=n)}})});