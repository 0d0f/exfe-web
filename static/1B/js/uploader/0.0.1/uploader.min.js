define("uploader",[],function(a,b,c){var d=a("jquery"),e=a("dialog"),f=a("filehtml5"),g=e.extend({_fileInputField:null,_buttonBinding:null,init:function(){},sync:function(){var a=this.$(".selectfile");this._fileInputField=d(g.HTML5FILEFIELD_TEMPLATE),a.append(this._fileInputField)},_bindSelectFile:function(a){var b=this._fileInputField[0];b.click&&b.click()},_bindDropArea:function(a){},_ddEventhandler:function(a){a.stopPropagation(),a.preventDefault();switch(a.type){case"dragenter":this.emit("dragenter",a);break;case"dragover":this.emit("dragover",a);break;case"dragleave":this.emit("dragleave",a);break;case"drop":var b=a.originEvent.dataTransfer.files,c=[],d,e=this.fileFilterFunction,g=0,h=b.length;if(e)for(;g<h;g++)d=new f(b[g]),e(d)&&c.push(d);else for(;g<h;g++)c.push(new f(b[g]));c.length>0&&this.emit("fileselect",{fileList:c}),this.emit("drop",a)}}},{HTML5FILEFIELD_TEMPLATE:'<input type="file" style="visibility:hidden; width:0px; height:0px;" />'}),h={options:{backdrop:!1,events:{"click .selectfile":function(a){a.stopPropagation(),a.preventDefault(),console.log(1),console.log(a)}},onHideAfter:function(){var a=this.element;this.offSrcNode(),this.destory(),a.remove()},viewData:{cls:"modal-uploader",title:"Portrait",body:'<div class="pull-right sider"><div class="pull-right smallphoto"><div class="avatar80"></div><div class="overlay"></div></div><div class="uploader-form"><button class="pull-right xbtn xbtn-blue uploader-button">Done</button></div></div><div class="photozone"><i class="icon20-back back"></i><i class="icon20-rotate rotate"></i><div class="avatar240"></div><div class="overlay dropbox"><div class="droptips">Drop your photo or URL here, <br /> or <span class="selectfile">open</span> local file.</div></div></div>',footer:'<button class="pull-right xbtn xbtn-yellow hide">Yes</button><button class="pull-right xbtn xbtn-white hide">No</button>',others:'<div class="help-portrait hide"><div class="modal-body"><div class="shadow title">Use default portrait?</div><p>You have no portrait set, thus a default one will be assigned automatically. It means you will lose your primary visual identification, consequently poor recognizability confuse your friends.</p><p>Confirm using default portrait?</p></div></div>'}}};return function(){return new g(h)}});