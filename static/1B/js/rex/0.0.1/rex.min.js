define("rex",[],function(a,b,c){function r(a,b){return new s(a,b)}function s(a,b){this._value=a,this._context=b||d,this._chained=!1}var d=null,e=undefined,f=Array.prototype,g=Object.prototype,h=g.hasOwnProperty,i=g.toString,j=f.slice,k=f.forEach,l=f.map,m=f.indexof,n=f.lastIndexOf,o=f.reduce,p=f.reduceRight,q={};q.each=function(a,b,c){var d,e=a.length;if(e===+e)for(d=0;d<e;++d)d in a&&b.call(c,a[d],d,a);else for(d in a)q.has(a,d)&&b.call(c,d,a[d],a)},q.map=function(a,b,c){var d=[],e,f,g=a.length;if(g===+g)for(e=0;e<g;++e)e in a&&(d[e]=b.call(c,a[e],e,a));else{f=0;for(e in a)q.has(a,e)&&(d[f++]=b.call(c,e,a[e],a))}return d},q.some=function(a,b,c){var d=0,e=a.length;for(;d<e;++d)if(d in a&&b.call(c,a[d],d,a))return!0;return!1},q.every=function(a,b,c){var d=0,e=a.length;for(;d<e;++d)if(d in a&&!b.call(c,a[d],d,a))return!1;return!0},q.filter=q.select=function(a,b,c){var d=[],e=0,f=0,g=a.length;for(;e<g;++e)if(e in a){if(!b.call(c,a[e],e,a))continue;d[f++]=a[e]}return d},q.indexOf=m?function(a,b,c){return a.indexOf(b,isFinite(c)?c:0)}:function(a,b,c){var d=a.length;if(!d)return-1;c||(c=0);if(c>d)return-1;c<0&&(c=Math.max(0,d+c));for(;c<d;++c)if(c in a&&a[c]===b)return c;return-1},q.lastIndexOf=n?function(a,b,c){return a.lastIndexOf(b,isFinite(c)?c:a.length)}:function(a,b,c){var d=a.length,c=d-1;if(!d)return-1;arguments.length>1&&(c=Math.min(c,arguments[1])),c<0&&(c+=d);for(;c>=0;--c)if(c in a&&a[c]===b)return c;return-1},q.reduce=o?function(a,b,c,d){return a.reduce(b,c,d)}:function(a,b,c,d){a||(a=[]);var e=0,f=a.length;if(arguments.length<3)do{if(e in a){c=a[e++];break}if(++e>=f)throw new TypeError("Empty array")}while(!0);for(;e<f;e++)e in a&&(c=b.call(d,c,a[e],e,a));return c},q.reduceRight=p?function(a,b,c,d){return a.reduce(b,c,d)}:function(a,b,c,d){a||(a=[]);var e=a.length-1;if(arguments.length<3)do{if(e in a){c=a[e--];break}if(--e<0)throw new TypeError("Empty array")}while(!0);for(;e>=0;--e)e in a&&(c=b.call(d,c,a[e],e,a));return c},q.find=function(a,b,c){var d=0,e=a.length,f;for(;d<e;++d)if(d in a&&b.call(c,a[d],d,a)){f=a[d];break}return f},q.reject=function(a,b,c){var d=[],e=0,f=0,g=a.length;for(;e<g;++e)if(e in a){if(b.call(c,a[e],e,a))continue;d[e++]=a[e]}return d},q.toArray=function(a){if(!a)return[];if(q.isArray(a))return a;if(a.toArray)return a.toArray();if(q.isArgs(a))return j.call(a);var b=[],c,d=0;for(c in a)q.has(a,c)&&(b[d++]=a[c]);return b},q.first=function(a){return a[0]},q.last=function(a){return a[a.length-1]},q.size=function(a){return q.toArray(a).length},q.compact=function(a){return q.filter(a,function(a){return!!a})},q.flatten=function(a){return q.reduce(a,function(a,b){return q.isArray(b)?a.concat(q.flatten(b)):(a[a.length]=b,a)},[])},q.unique=function(a){var b=[],c=a.length-1,d=0;a:for(;c>=0;--c){for(;d<b.length;++d)if(b[d]===a[c])continue a;b[b.length]=a[c]}return b},q.merge=function(a,b){var c=a.length,d=0,e;if(isFinite(b.length))for(e=b.length;d<e;d++)a[c++]=b[d];else while(b[d]!==undefined)first[c++]=second[d++];return a.length=c,a},q.inArray=function(a,b){return!!~q.indexOf(a,b)},q.compose=function(){function d(){c=arguments;for(;b>=0;--b)c=[a[b].apply(this,c)];return c[0]}var a=arguments,b=a.length,c;return d},q.pluck=function(a,b){},q.has=function(a,b){return h.call(a,b)},q.keys=Object.keys||function(a){var b=[],c=0,d;for(d in a)q.has(a,d)&&(b[c++]=d);return b},q.values=function(a){var b=[],c=0,d;for(d in a)q.has(a,d)&&(b[c++]=a[d]);return b},q.extend=function(){},q.mixin=function(a,b){var c;for(c in b)a[c]=b[c]},q.tap=function(a,b){var c;return b&&(c=fn(a)),v,c?c:a},q.nextTick=function(a){setTimeout(a,0)},q.countDown=function(a,b){function c(){--a===0&&b()}return c},q.isFunction=function(a){return typeof a=="function"},q.isString=function(a){return i.call(a)==="[object String]"},q.isElement=function(a){return!!a&&!!a.nodeType&&a.nodeType==1},q.isArray=Array.isArray||function(a){return a instanceof Array},q.isArrayLike=function(a){return a&&a.length&&isFinite(a.length)},q.isObject=function(a){return a instanceof Object&&!q.isFunction(a)&&!q.isArray(a)},q.isDate=function(a){return!!(a&&a.getTimezoneOffset&&a.setUTCFullYear)},q.isRegex=function(a){return!(!(a&&a.test&&a.exec)||!a.ignoreCase&&a.ignoreCase!==!1)},q.isUndefined=function(a){return typeof a=="undefined"},q.isDefined=function(a){return typeof a!="undefined"},q.isNaN=function(a){return a!==a},q.isNull=function(a){return a===null},q.isNumber=function(a){return i.call(a)==="[object Number]"},q.isBoolean=function(a){return a===!0||a===!1},q.isArgs=function(a){return!!a&&!!q.has(a,"callee")},q.isEmpty=function(a){var b=0,c;return q.isArray(a)?a.length===0:q.isObject(a)?function(){for(c in a){b++;break}return b===0}():a===""},r.chain=function(a,b){return(new s(a,b)).chain()},q.mixin(r,q);var t=s.prototype;return t.constructor=s,t.chain=function(){return this._chained=!0,this},t.value=function(){return this._value},r.each(q.keys(q),function(a,b){b=r[a],t[a]=function(){var a=0,c=this._value,d=arguments.length,e=[c];for(;a<d;++a)e[a+1]=arguments[a];return c=b.apply(this._context,e),this._value=c,this._chained?this:c}}),r});